{% extends 'layout.html.twig' %}

{% block body %}

{% if is_granted(['ROLE_TREASURER', 'ROLE_PRESIDENT']) %}
  <a href="{{ urlFor('user') }}" class="btn btn-primary">Nouveau Membre</a>
{% endif %}

<br /><br />
<div class="panel panel-default">
  <!-- Default panel contents -->
  <div class="panel-heading">Liste des membres Code2be</div>

  <!-- Table -->
  <table class="table">
    <tr>
      <th>Nom</th>
      <th>Prénom</th>
      <th>Mail</th>
      <th>Téléphone</th>
      {% if is_granted(['ROLE_TREASURER', 'ROLE_PRESIDENT']) %}
        <th>&nbsp</th>
      {% endif %}
    </tr>
    {% for user in users %}
    <tr>
      <td>{{ user.lastName }}</td>
      <td>{{ user.firstName }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.phoneNumber }}</td>
      {% if is_granted(['ROLE_TREASURER', 'ROLE_PRESIDENT']) %}
        <td><a href="{{ urlFor('user', {'id':user.id}) }}"><i class="fa fa-pencil-square-o"></i></a></td>
      {% endif %}
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}
